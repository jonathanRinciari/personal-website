import React, { Component } from "react";
import { PRIMARY, BACKGROUND } from "../theme";
import { withRouter } from 'react-router-dom';
import BodyText from "./BodyText";

class NavButton extends Component {
 constructor(props) {
    super(props);
    this.state = {
      isHover: false
    }
 }

 setHover = () => {
   this.setState((prevState) => {
     return {
      isHover: !prevState.isHover
     }
   })
 }

  
  iconSize = this.props.type === 'close' ? '25px' : '90px';
  iconSizeSm = this.props.type === 'close' ? '20px' : '45px';
  icons = {
    writing: {
      title: "Writing",
      icon: () => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="100%"
          height="100%"
          x="0"
          y="0"
          enableBackground="new 0 0 485.219 485.22"
          version="1.1"
          viewBox="0 0 485.219 485.22"
          xmlSpace="preserve"
        >
          <path d="M467.476 146.438l-21.445 21.455L317.35 39.23l21.445-21.457c23.689-23.692 62.104-23.692 85.795 0l42.886 42.897c23.657 23.679 23.657 62.078 0 85.768zm-300.243 257.31c-5.922 5.922-5.922 15.513 0 21.436 5.925 5.955 15.521 5.955 21.443 0L424.59 189.335l-21.469-21.457-235.888 235.87zM60 296.54c-5.925 5.927-5.925 15.514 0 21.44 5.922 5.923 15.518 5.923 21.443 0L317.35 82.113 295.914 60.67 60 296.54zm278.767-193L102.881 339.421c-11.845 11.822-11.815 31.041 0 42.886 11.85 11.846 31.038 11.901 42.914-.032l235.886-235.837-42.914-42.898zM145.734 446.572c-7.253-7.262-10.749-16.465-12.05-25.948-3.083.476-6.188.919-9.36.919-16.202 0-31.419-6.333-42.881-17.795-11.462-11.491-17.77-26.687-17.77-42.887 0-2.954.443-5.833.859-8.703-9.803-1.335-18.864-5.629-25.972-12.737-.682-.677-.917-1.596-1.538-2.338L0 485.216l147.748-36.986c-.651-.593-1.388-1.037-2.014-1.658z" />
        </svg>
      ),
      url: '/writing'
    },
    about: {
      title: "About",
      url: '/about',
      icon: () => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          x="0"
          y="0"
          width="100%"
          height="100%"
          enableBackground="new 0 0 37.334 37.334"
          version="1.1"
          viewBox="0 0 37.334 37.334"
          xmlSpace="preserve"
        >
          <path d="M14.911 25.001H4.227c0-2.176 1.428-4.031 3.436-4.767-.431-.438-.744-1.104-.901-2.109-.207.042-.528-.195-.623-.556-.097-.367-.16-.96.049-1.017a.258.258 0 01.19.028v-1.02c0-1.606-.378-2.55 2.247-2.819l-.023-.006s2.069-.199 2.614-.689c0 0 .015.414.235.868 1.211.464 1.363 1.537 1.328 2.647v1.021a.261.261 0 01.191-.028c.209.057.098.672.002 1.041-.094.357-.365.57-.57.532-.153.957-.489 1.644-.955 2.101 2.023.727 3.464 2.585 3.464 4.773zM37.334 6.5v24.333H0V6.5h37.334zm-2 2H2v20.333h33.334V8.5zm-2.667 4H17.834v2h14.833v-2zm0 5.167H17.834v2h14.833v-2zm0 5.168H17.834v2h14.833v-2z" />
        </svg>
      )
    },
    projects: {
      title: "Projects",
      url: '/projects',
      icon: () => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="100%"
          height="100%"
          viewBox="0 0 512 512"
        >
          <path d="M256 92.3c-74.2 0-127.8 55.3-136.3 114.7-5.3 39.6 7.5 78.2 34.1 107.4 23.4 25 36.2 58.4 36.2 92.8l-.1 54.2c0 21.9 18.1 39.6 40.5 39.6h52.2c22.4 0 40.5-17.7 40.5-39.6l.1-54.2c0-35.4 11.7-67.8 34.1-90.7 24.5-25 37.3-57.3 37.3-90.7-.1-74.1-63-133.5-138.6-133.5zm46.8 369.1c0 10.4-8.5 18.8-19.2 18.8h-52.2c-10.7 0-19.2-8.3-19.2-18.8v-24h90.5v24zm39.6-159.5c-26.6 27.1-40.5 64.6-40.5 105.3v9.4h-90.5v-9.4c0-38.6-16-77.1-42.6-106.3-23.4-25-33-57.3-28.8-90.7 7.5-50 54-97 116.1-97 65 0 117.2 51.1 117.2 112.6 0 28.1-10.7 55.2-30.9 76.1z" />
          <path d="M245.3 11H266.6V61H245.3z" />
          <path d="M385.1 107.4L400 122.3 436.5 87.2 421.5 72.3z" />
          <path d="M448.8 236.2H501V257.09999999999997H448.8z" />
          <path d="M11 236.2H63.2V257.09999999999997H11z" />
          <path d="M90.1 72.2L75.1 87.1 111.6 122.2 126.5 107.3z" />
        </svg>
      )
    },
    close: {
      title: "",
      url: null,
      icon: () => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="100%"
          height="100%"
          x="0"
          y="0"
          enableBackground="new 0 0 41.756 41.756"
          version="1.1"
          viewBox="0 0 41.756 41.756"
          xmlSpace="preserve"
        >
          <path d="M27.948 20.878L40.291 8.536a5 5 0 10-7.07-7.071L20.878 13.809 8.535 1.465a5 5 0 00-7.07 7.071l12.342 12.342L1.465 33.22a5 5 0 107.07 7.071l12.343-12.342 12.343 12.343c.976.977 2.256 1.464 3.535 1.464s2.56-.487 3.535-1.464a5 5 0 000-7.071L27.948 20.878z" />
        </svg>
      )
    },
    resume: {
      title: "Resume",
      url: '/resume',
      icon: () => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          x="0"
          y="0"
          width="100%"
          height="100%"
          enableBackground="new 0 0 512 512"
          version="1.1"
          viewBox="0 0 512 512"
          xmlSpace="preserve"
        >
          <path d="M414.007 148.75c5.522 0 10-4.477 10-10V30c0-16.542-13.458-30-30-30h-364c-16.542 0-30 13.458-30 30v452c0 16.542 13.458 30 30 30h364c16.542 0 30-13.458 30-30v-73.672c0-5.523-4.478-10-10-10s-10 4.477-10 10V482c0 5.514-4.486 10-10 10h-364c-5.514 0-10-4.486-10-10V30c0-5.514 4.486-10 10-10h364c5.514 0 10 4.486 10 10v108.75c0 5.523 4.478 10 10 10z" />
          <path d="M212.007 54c-50.729 0-92 41.271-92 92 0 26.317 11.11 50.085 28.882 66.869.333.356.687.693 1.074 1 16.371 14.979 38.158 24.13 62.043 24.13 23.885 0 45.672-9.152 62.043-24.13a9.993 9.993 0 001.074-1c17.774-16.784 28.884-40.552 28.884-66.869 0-50.729-41.271-92-92-92zm0 164c-16.329 0-31.399-5.472-43.491-14.668 8.789-15.585 25.19-25.332 43.491-25.332s34.702 9.747 43.491 25.332C243.405 212.528 228.336 218 212.007 218zm-16-76v-6.5c0-8.822 7.178-16 16-16s16 7.178 16 16v6.5c0 8.822-7.178 16-16 16s-16-7.178-16-16zm73.94 46.683a69.375 69.375 0 00-29.463-24.697c4.71-6.087 7.523-13.712 7.523-21.986v-6.5c0-19.851-16.149-36-36-36s-36 16.149-36 36v6.5c0 8.274 2.813 15.899 7.523 21.986a69.375 69.375 0 00-29.463 24.697c-8.829-11.953-14.06-26.716-14.06-42.683 0-39.701 32.299-72 72-72s72 32.299 72 72c0 15.967-5.231 30.73-14.06 42.683zM266.007 438h-54c-5.522 0-10 4.477-10 10s4.478 10 10 10h54c5.522 0 10-4.477 10-10s-4.478-10-10-10zM266.007 382h-142c-5.522 0-10 4.477-10 10s4.478 10 10 10h142c5.522 0 10-4.477 10-10s-4.478-10-10-10zM266.007 326h-142c-5.522 0-10 4.477-10 10s4.478 10 10 10h142c5.522 0 10-4.477 10-10s-4.478-10-10-10zM88.366 272.93a10.077 10.077 0 00-7.079-2.93c-2.631 0-5.211 1.07-7.07 2.93-1.86 1.86-2.93 4.44-2.93 7.07s1.069 5.21 2.93 7.07a10.092 10.092 0 007.07 2.93c2.64 0 5.21-1.07 7.079-2.93 1.86-1.86 2.931-4.44 2.931-7.07s-1.07-5.21-2.931-7.07zM88.366 328.93a10.095 10.095 0 00-7.079-2.93c-2.631 0-5.2 1.07-7.07 2.93-1.86 1.86-2.93 4.44-2.93 7.07s1.069 5.21 2.93 7.07a10.092 10.092 0 007.07 2.93c2.64 0 5.21-1.07 7.079-2.93 1.86-1.86 2.931-4.44 2.931-7.07s-1.07-5.21-2.931-7.07zM88.366 384.93a10.095 10.095 0 00-7.079-2.93c-2.631 0-5.2 1.07-7.07 2.93-1.86 1.86-2.93 4.44-2.93 7.07s1.069 5.21 2.93 7.07a10.072 10.072 0 007.07 2.93c2.64 0 5.22-1.07 7.079-2.93 1.86-1.86 2.931-4.44 2.931-7.07s-1.07-5.21-2.931-7.07zM266.007 270h-142c-5.522 0-10 4.477-10 10s4.478 10 10 10h142c5.522 0 10-4.477 10-10s-4.478-10-10-10zM491.002 130.32c-9.715-5.609-21.033-7.099-31.871-4.196-10.836 2.904-19.894 9.854-25.502 19.569L307.787 363.656a10.016 10.016 0 00-1.278 3.891l-8.858 79.344a10.004 10.004 0 009.937 11.11 9.99 9.99 0 005.931-1.948l64.284-47.344a9.983 9.983 0 002.73-3.052l125.841-217.963c11.58-20.056 4.684-45.794-15.372-57.374zM320.063 426.394l4.626-41.432 28.942 16.71-33.568 24.722zm48.15-39.398l-38.105-22 100.985-174.91 38.105 22-100.985 174.91zm120.841-209.303l-9.857 17.073-38.105-22 9.857-17.073a21.855 21.855 0 0113.358-10.25 21.85 21.85 0 0116.694 2.198 21.855 21.855 0 0110.25 13.358 21.856 21.856 0 01-2.197 16.694z" />
        </svg>
      )
    },
    home: {
      title: "jonrinciari.com",
      url: '/',
      icon: null
    }
  };

  navigate() {
    this.props.history.push(this.icons[this.props.type].url);
    this.props.handleOnClick();
  }
  render() {
    const { active } = this.props
  return (
    
    <div
      onClick={this.props.type === 'close' ? this.props.handleOnClick : () => this.navigate()}
      onMouseEnter={this.setHover}
      onMouseLeave={this.setHover}
      {...this.props}
      css={`
        background: ${active ? '#AE5657' : PRIMARY};
        border: 1px solid rgba(0, 0, 0, 0.1);
        cursor: pointer;
        transition: all 200ms ease-in-out;
        color: ${active ? PRIMARY : BACKGROUND};
        display: flex;
        justify-content: center;
        align-items: ${this.props.type === "home" ? "flex-start" : "center"};
        flex-direction: column;
        &:hover {
          background: #d27676;
          color: ${BACKGROUND};
        }
      `}
    >
      {this.props.type && this.icons[this.props.type].icon && (
        <div

          css={`
            width: ${this.props.show ? this.iconSize : '0px'};
            height: ${this.props.show ? this.iconSize : '0px'};
            transition: all 150ms ease-in-out;
            display: flex;
            fill: ${active && !this.state.isHover ? PRIMARY : BACKGROUND};
            @media (max-width: 767px) {
              height: ${this.props.show ? this.iconSizeSm : '0px'};
              width: ${this.props.show ? this.iconSizeSm : '0px'};
            }

          `}
        >
          {this.icons[this.props.type].icon()}{" "}
        </div>
      )}

      <BodyText
        style={this.props.type === "home" ? { marginLeft: "1rem" } : null}
        sizer={this.props.type === "home" ? this.props.show ? 1.5 : 0 : this.props.show ? 2.5 : 0}
        altText={this.props.type === "home" ? false : true}
      >
        {this.props.type && this.icons[this.props.type].title}
      </BodyText>
    </div>
  );
}
};

export default withRouter(NavButton);
